<section class="login">
    <header class="modal-header">
        <button mat-icon-button class="close-button" (click)="closeDialog()">
            <mat-icon>close</mat-icon>
        </button>
    </header>
    <form class="login-form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <h2>Inicia Sesión</h2>
        <main class="modal-content">
            <div class="form-group">
                <label for="email">Correo</label>
                <input type="email" id="email" class="form-control" formControlName="email" placeholder="peliculas@gmail.com" required>
            </div>
            <div class="form-group password-group">
                <label for="password">Contraseña</label>
                <input [type]="passwordFieldType" id="password" class="form-control" formControlName="password" placeholder="password" required>
                <button type="button" class="toggle-password" (click)="togglePasswordVisibility()">
                    <mat-icon>{{ passwordFieldType === 'password' ? 'visibility' : 'visibility_off' }}</mat-icon>
                </button>
            </div>
            @if (errorMsg) {
                <span class="error-message">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-exclamation-diamond-fill" viewBox="0 0 16 16">
                        <path d="M9.05.435c-.58-.58-1.52-.58-2.1 0L.436 6.95c-.58.58-.58 1.519 0 2.098l6.516 6.516c.58.58 1.519.58 2.098 0l6.516-6.516c.58-.58.58-1.519 0-2.098zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                      </svg>
                    {{ errorMsg }}
                </span>
            }
        </main>
        <footer class="modal-footer">
            <button type="submit" [disabled]="!loginForm.valid" class="btn btn-primary">Iniciar Sesión</button>
            <span>¿No tienes cuenta? <button type="button" class="register-button" (click)="closeAndOpenRegisterModal()">Registrate aquí</button></span>
        </footer>
    </form>
</section>
